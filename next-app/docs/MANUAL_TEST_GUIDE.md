# 全機能 手動確認ガイド

**作成日**: 2025年10月19日  
**対象**: BABA廃棄物管理システム  
**目的**: 全29機能の手動動作確認

---

## 🔐 ログイン情報

### 管理者（Admin）
- **URL**: http://localhost:3001/login
- **クイックログイン**: 「👤 管理者でログイン」ボタンをクリック
- **アクセス範囲**: 全機能

### 排出事業者（Emitter）
- **URL**: http://localhost:3001/login
- **クイックログイン**: 「🏭 排出事業者でログイン」ボタンをクリック
- **アクセス範囲**: 自社店舗・廃棄依頼関連

### 収集業者（Collector）
- **URL**: http://localhost:3001/login
- **クイックログイン**: 「👥 収集業者でログイン」ボタンをクリック
- **アクセス範囲**: 割り当てられた収集予定・実績登録

---

## 📊 テストデータ状況

### ✅ データあり（19テーブル）
- organizations: 8件
- app_users: 3件
- stores: 30件
- collectors: 1件
- collection_requests: 285件
- plans: 823件
- actuals: 702件
- item_maps: 20件
- hearings: 7件（一斉ヒアリング）
- billing_summaries: 12件
- jwnet_party_combinations: 2件
- registrations: 702件
- reservations: 820件

### ⚠️ データ空（3テーブル）
- **waste_type_masters**: 0件（廃棄物マスター画面は空）
- **app_billing_items**: 0件（請求明細画面は空）
- **contracts**: 0件（契約管理画面は空）

**注**: 空のテーブルは画面が空白表示されますが、エラーにはなりません。

---

## 🧪 機能確認チェックリスト

### カテゴリー1: ダッシュボード・基本機能

#### 1. ダッシュボード
- [ ] **URL**: `/dashboard`
- [ ] **確認項目**:
  - [ ] 統計カード表示（今月の請求金額、管理店舗数、回収予定、回収完了）
  - [ ] システム情報カード表示
  - [ ] 集計期間表示
- [ ] **期待値**: すべてのカードが正常に表示される

---

### カテゴリー2: 廃棄依頼・収集管理

#### 2. 廃棄依頼一覧
- [ ] **URL**: `/dashboard/waste-requests`
- [ ] **確認項目**:
  - [ ] 廃棄依頼リスト表示（285件）
  - [ ] ステータス表示（未対応/対応中/完了/キャンセル）
  - [ ] 検索・フィルター機能
- [ ] **期待値**: collection_requests データが表示される

#### 3. 収集予定管理（Plans）
- [ ] **URL**: `/dashboard/plans`
- [ ] **確認項目**:
  - [ ] 収集予定リスト表示（823件）
  - [ ] カレンダー表示
  - [ ] 店舗別・日付別フィルター
- [ ] **期待値**: plans データが表示される

#### 4. 収集実績（Actuals）
- [ ] **URL**: `/dashboard/actuals`
- [ ] **確認項目**:
  - [ ] 実績リスト表示（702件）
  - [ ] 計量伝票番号表示
  - [ ] 写真表示（ある場合）
- [ ] **期待値**: actuals データが表示される

#### 5. 回収レポート
- [ ] **URL**: `/dashboard/collection-report`
- [ ] **確認項目**:
  - [ ] 日次レポート作成フォーム
  - [ ] レポート一覧表示
- [ ] **期待値**: 画面が正常に表示される

---

### カテゴリー3: 組織・ユーザー管理

#### 6. 組織管理
- [ ] **URL**: `/dashboard/organizations`
- [ ] **確認項目**:
  - [ ] 組織リスト表示（8件）
  - [ ] 組織情報詳細表示
  - [ ] 新規作成ボタン
- [ ] **期待値**: organizations データが表示される

#### 7. ユーザー管理
- [ ] **URL**: `/dashboard/users`
- [ ] **確認項目**:
  - [ ] ユーザーリスト表示（3件）
  - [ ] ロール表示（Admin/Emitter/Collector）
  - [ ] 新規作成ボタン
- [ ] **期待値**: app_users データが表示される

#### 8. 店舗管理
- [ ] **URL**: `/dashboard/stores`
- [ ] **確認項目**:
  - [ ] 店舗リスト表示（30件）
  - [ ] 店舗コード・名称・エリア表示
  - [ ] 新規作成ボタン
- [ ] **期待値**: stores データが表示される

#### 9. 管理店舗（Emitter専用）
- [ ] **URL**: `/dashboard/managed-stores`
- [ ] **確認項目**:
  - [ ] 自社店舗一覧表示
  - [ ] 店舗別統計表示
- [ ] **期待値**: 排出事業者でログイン時のみアクセス可能

#### 10. 収集業者管理
- [ ] **URL**: `/dashboard/collectors`
- [ ] **確認項目**:
  - [ ] 収集業者リスト表示（1件）
  - [ ] 許可証情報表示
  - [ ] 対応エリア表示
- [ ] **期待値**: collectors データが表示される

#### 11. 店舗-業者割り当て
- [ ] **URL**: `/dashboard/store-collector-assignments`
- [ ] **確認項目**:
  - [ ] 割り当てリスト表示（5件）
  - [ ] 店舗と業者のマッピング表示
- [ ] **期待値**: store_collector_assignments データが表示される

#### 12. 品目マップ
- [ ] **URL**: `/dashboard/item-maps`
- [ ] **確認項目**:
  - [ ] 品目マップリスト表示（20件）
  - [ ] 品目名とJWNETコードのマッピング
- [ ] **期待値**: item_maps データが表示される

#### 13. 廃棄物マスター
- [ ] **URL**: `/dashboard/waste-masters`
- [ ] **確認項目**:
  - [ ] 廃棄物マスターリスト表示
  - [ ] **⚠️ データ空（0件）** - 空のリストが表示される
- [ ] **期待値**: エラーなく空のリストが表示される

---

### カテゴリー4: JWNET連携

#### 14. JWNET管理
- [ ] **URL**: `/dashboard/jwnet-management`
- [ ] **確認項目**:
  - [ ] JWNET連携設定画面
  - [ ] API設定フォーム
- [ ] **期待値**: 画面が正常に表示される

#### 15. JWNET登録データ
- [ ] **URL**: `/dashboard/registrations`
- [ ] **確認項目**:
  - [ ] 登録データリスト表示（702件）
  - [ ] 登録ステータス表示
- [ ] **期待値**: registrations データが表示される

#### 16. JWNET予約データ
- [ ] **URL**: `/dashboard/reservations`
- [ ] **確認項目**:
  - [ ] 予約データリスト表示（820件）
  - [ ] 予約番号表示
- [ ] **期待値**: reservations データが表示される

#### 17. JWNET事業者組み合わせ
- [ ] **URL**: `/dashboard/jwnet-party-combinations`
- [ ] **確認項目**:
  - [ ] 組み合わせリスト表示（2件）
  - [ ] 排出→収集→処分の関係表示
- [ ] **期待値**: jwnet_party_combinations データが表示される

#### 18. JWNET廃棄物コード
- [ ] **URL**: `/dashboard/jwnet-waste-codes`
- [ ] **確認項目**:
  - [ ] 廃棄物コードリスト表示
  - [ ] コード検索機能
- [ ] **期待値**: jwnet_waste_codes データが表示される

---

### カテゴリー5: 請求管理

#### 19. 請求管理（Billing）
- [ ] **URL**: `/dashboard/billing`
- [ ] **確認項目**:
  - [ ] 請求サマリー表示（12件）
  - [ ] 請求明細リスト表示（**⚠️ 0件 - 空のリスト**）
  - [ ] 「実績から生成」ボタン
  - [ ] 「サマリー計算」ボタン
  - [ ] Excelエクスポートボタン
- [ ] **期待値**: 
  - サマリーは表示される
  - 明細は空だがエラーなし
  - ボタン操作可能

---

### カテゴリー6: レポート・分析

#### 20. レポート機能
- [ ] **URL**: `/dashboard/reports`
- [ ] **確認項目**:
  - [ ] レポート選択画面
  - [ ] 集計期間設定
  - [ ] レポート生成ボタン
- [ ] **期待値**: 画面が正常に表示される

#### 21. カレンダー表示
- [ ] **URL**: `/dashboard/calendar`
- [ ] **確認項目**:
  - [ ] 月次カレンダー表示
  - [ ] 収集予定の表示
  - [ ] 日別フィルター
- [ ] **期待値**: カレンダーが正常に表示される

---

### カテゴリー7: 新機能（一斉ヒアリング）

#### 22. 一斉ヒアリング管理
- [ ] **URL**: `/dashboard/mass-hearings`
- [ ] **確認項目**:
  - [ ] ヒアリングキャンペーンリスト表示（7件）
  - [ ] キャンペーン作成ボタン
  - [ ] ステータス表示（作成中/配信中/回答受付中/締切/完了）
- [ ] **期待値**: hearings データが表示される

#### 23. ヒアリングキャンペーン詳細
- [ ] **URL**: `/dashboard/mass-hearings/[id]`
- [ ] **確認項目**:
  - [ ] キャンペーン詳細情報
  - [ ] 対象業者一覧
  - [ ] 回答状況一覧
  - [ ] コメント表示
- [ ] **期待値**: 詳細データが表示される

#### 24. 新規ヒアリング作成
- [ ] **URL**: `/dashboard/mass-hearings/new`
- [ ] **確認項目**:
  - [ ] タイトル入力フォーム
  - [ ] 説明入力フォーム
  - [ ] 回答期限設定
  - [ ] 対象業者選択
  - [ ] 対象店舗選択
- [ ] **期待値**: フォームが正常に表示される

#### 25. ヒアリング回答（Collector専用）
- [ ] **URL**: `/dashboard/collector-hearings`
- [ ] **確認項目**:
  - [ ] 自社宛てヒアリング一覧表示
  - [ ] 回答入力フォーム
  - [ ] コメント入力
- [ ] **期待値**: 収集業者でログイン時のみアクセス可能

#### 26. 外部店舗管理
- [ ] **URL**: `/dashboard/external-stores`
- [ ] **確認項目**:
  - [ ] 外部店舗リスト表示（2件）
  - [ ] 外部店舗追加ボタン
- [ ] **期待値**: hearing_external_stores データが表示される

---

### カテゴリー8: データ取り込み

#### 27. Excel/CSV インポート
- [ ] **URL**: `/dashboard/import`
- [ ] **確認項目**:
  - [ ] ファイルアップロードフォーム
  - [ ] テンプレートダウンロードボタン
  - [ ] インポート実行ボタン
- [ ] **期待値**: 画面が正常に表示される

#### 28. インポート履歴
- [ ] **URL**: `/dashboard/import-history`
- [ ] **確認項目**:
  - [ ] インポート履歴リスト表示
  - [ ] 成功/失敗件数表示
  - [ ] エラーログ表示
- [ ] **期待値**: 画面が正常に表示される

---

### カテゴリー9: 設定

#### 29. 設定
- [ ] **URL**: `/dashboard/settings`
- [ ] **確認項目**:
  - [ ] システム設定画面
  - [ ] ユーザー設定フォーム
- [ ] **期待値**: 画面が正常に表示される

---

## 🚨 注意事項

### データが空のテーブル
以下の機能は**データが空**ですが、**エラーにはなりません**:

1. **廃棄物マスター** (`/dashboard/waste-masters`)
   - 空のリストが表示される
   - 「新規作成」ボタンから手動でデータ追加可能

2. **請求明細** (`/dashboard/billing`)
   - 請求サマリーは表示される（12件）
   - 明細リストは空
   - 「実績から生成」ボタンで自動生成可能

3. **契約管理** (URLなし - 今後実装予定)
   - 現在、専用画面なし
   - データベーステーブルは存在

### 空データの手動追加方法

#### 廃棄物マスターデータの追加
```
1. http://localhost:3001/dashboard/waste-masters にアクセス
2. 「新規作成」ボタンをクリック
3. 必須項目を入力:
   - 廃棄物コード: WT001
   - 廃棄物名称: 一般廃棄物
   - 廃棄物カテゴリー: 一般
   - 廃棄物分類: 可燃ごみ
   - JWNET廃棄物コード: （既存から選択）
   - 単位コード: kg
   - 単価: 100
4. 保存
```

#### 請求明細の自動生成
```
1. http://localhost:3001/dashboard/billing にアクセス
2. 「実績から生成」ボタンをクリック
3. 生成期間を選択（例: 2024年1月）
4. 「生成実行」ボタンをクリック
5. 請求明細が自動生成される
```

---

## ✅ 確認完了チェック

### 全体確認
- [ ] すべての画面にアクセスできる
- [ ] エラーページが表示されない
- [ ] データが正常に表示される（空のテーブルは空表示）
- [ ] 新規作成ボタンが機能する
- [ ] 検索・フィルター機能が動作する

### ロール別確認
- [ ] **Admin**: 全29機能にアクセス可能
- [ ] **Emitter**: 制限された機能のみアクセス可能
- [ ] **Collector**: 収集業者向け機能のみアクセス可能

---

## 📝 問題報告フォーマット

もし問題を発見した場合、以下の情報を記録してください:

```
【機能名】: 
【URL】: 
【ログイン役割】: Admin / Emitter / Collector
【問題内容】: 
【エラーメッセージ】: 
【再現手順】: 
1. 
2. 
3. 
【期待される動作】: 
【実際の動作】: 
```

---

**最終更新**: 2025年10月19日  
**作成者**: AI Assistant  
**ステータス**: ✅ 使用可能

