# メニュー整理提案

**作成日**: 2025-10-19  
**目的**: 業務フローに沿った直感的なメニュー構造

---

## 📊 現状の問題点

### 1. 重複・類似機能
- **JWNET**: 「JWNET登録データ」「JWNET管理」（2つ）
- **レポート**: 「回収レポート」「回収実績データ」「レポート」（3つ）
- **店舗**: 「店舗管理」「店舗品目業者マトリクス」（関連機能が分散）

### 2. 階層構造の不統一
- 一部の管理機能は「管理メニュー」配下
- 一部の管理機能はトップレベル（店舗、外部店舗、一斉ヒアリング）

### 3. 業務フローが見えにくい
- 依頼→予定→回収→実績→請求の流れが分かりにくい

---

## 🎯 改善提案（業務フロー順）

### 📋 新メニュー構造

```
1. 🏠 ダッシュボード
   └─ 全体サマリー

2. 📝 廃棄物管理（日常業務）
   ├─ 廃棄依頼一覧
   ├─ 予定管理
   ├─ 回収情報登録
   └─ 回収実績データ

3. 💰 請求管理
   ├─ 請求一覧
   └─ 請求サマリー

4. 📊 レポート・分析
   ├─ 回収レポート
   └─ 統計レポート

5. 🔗 JWNET連携
   ├─ JWNET管理
   └─ 仮登録管理

6. 🏪 店舗・業者管理
   ├─ 店舗管理
   ├─ 店舗品目業者マトリクス
   ├─ 外部店舗管理
   ├─ 収集業者管理
   └─ 一斉ヒアリング管理

7. ⚙️ システム管理
   ├─ 組織管理
   ├─ ユーザー管理
   ├─ マスター管理
   │  ├─ 廃棄物コードマスター
   │  └─ その他マスター
   └─ 取り込み履歴
```

---

## 🔄 統合・変更案

### 1. 「廃棄物管理」グループ新設
**統合前**:
- 廃棄依頼一覧
- 予定管理
- 回収情報登録
- 回収実績データ

**統合後**:
- 📝 廃棄物管理（サブメニュー）
  - 廃棄依頼一覧
  - 予定管理
  - 回収情報登録
  - 回収実績データ

**理由**: 業務フロー（依頼→予定→回収→実績）が明確

---

### 2. 「レポート・分析」グループ新設
**統合前**:
- 回収レポート（個別詳細）
- 回収実績データ（データ一覧）
- レポート（統計・分析）

**統合後**:
- 📊 レポート・分析（サブメニュー）
  - 回収レポート（詳細）
  - 統計レポート（分析）

**変更内容**:
- 「回収実績データ」は「廃棄物管理」へ移動
- 「レポート」を「統計レポート」に改名

**理由**: 用途別に整理（詳細 vs 分析）

---

### 3. 「JWNET連携」グループ統合
**統合前**:
- JWNET登録データ
- JWNET管理
- 仮登録管理

**統合後**:
- 🔗 JWNET連携（サブメニュー）
  - JWNET管理（統合）
  - 仮登録管理

**変更内容**:
- 「JWNET登録データ」と「JWNET管理」を統合
- 統合後の画面でタブ切替（登録データ/設定）

**理由**: 同じ目的（JWNET連携）の機能を1箇所に

---

### 4. 「店舗・業者管理」グループ新設
**統合前**:
- 店舗管理
- 店舗品目業者マトリクス
- 外部店舗管理
- 一斉ヒアリング管理
- 収集業者管理（「管理メニュー」配下）

**統合後**:
- 🏪 店舗・業者管理（サブメニュー）
  - 店舗管理
  - 店舗品目業者マトリクス
  - 外部店舗管理
  - 収集業者管理
  - 一斉ヒアリング管理

**理由**: 店舗・業者に関連する全機能を集約

---

### 5. 「システム管理」グループ再編
**統合前**:
- 管理メニュー
  - 組織管理
  - ユーザー管理
  - 収集業者管理
  - その他マスター

**統合後**:
- ⚙️ システム管理（サブメニュー）
  - 組織管理
  - ユーザー管理
  - マスター管理（サブサブメニュー）
    - 廃棄物コードマスター
    - その他マスター
  - 取り込み履歴

**変更内容**:
- 「収集業者管理」は「店舗・業者管理」へ移動
- マスター関連を「マスター管理」配下に整理

**理由**: システム基盤・設定を集約

---

## 📐 実装イメージ（Ant Design Menu）

```tsx
const menuItems = [
  {
    key: '/dashboard',
    icon: <DashboardOutlined />,
    label: 'ダッシュボード',
  },
  {
    key: 'waste-management',
    icon: <FileTextOutlined />,
    label: '廃棄物管理',
    children: [
      { key: '/dashboard/waste-requests', label: '廃棄依頼一覧' },
      { key: '/dashboard/plans', label: '予定管理' },
      { key: '/dashboard/collections', label: '回収情報登録' },
      { key: '/dashboard/actuals', label: '回収実績データ' },
    ],
  },
  {
    key: '/dashboard/billing',
    icon: <FileTextOutlined />,
    label: '請求管理',
  },
  {
    key: 'reports',
    icon: <BarChartOutlined />,
    label: 'レポート・分析',
    children: [
      { key: '/dashboard/collection-report', label: '回収レポート' },
      { key: '/dashboard/reports', label: '統計レポート' },
    ],
  },
  {
    key: 'jwnet',
    icon: <LinkOutlined />,
    label: 'JWNET連携',
    children: [
      { key: '/dashboard/jwnet-management', label: 'JWNET管理' },
      { key: '/dashboard/temp-registrations', label: '仮登録管理' },
    ],
  },
  {
    key: 'store-collector',
    icon: <ShopOutlined />,
    label: '店舗・業者管理',
    children: [
      { key: '/dashboard/stores', label: '店舗管理' },
      { key: '/dashboard/store-item-matrix', label: '店舗品目業者マトリクス' },
      { key: '/dashboard/external-stores', label: '外部店舗管理' },
      { key: '/dashboard/collectors', label: '収集業者管理' },
      { key: '/dashboard/mass-hearings', label: '一斉ヒアリング管理' },
    ],
  },
  {
    key: 'system',
    icon: <SettingOutlined />,
    label: 'システム管理',
    children: [
      { key: '/dashboard/organizations', label: '組織管理' },
      { key: '/dashboard/users', label: 'ユーザー管理' },
      {
        key: 'masters',
        label: 'マスター管理',
        children: [
          { key: '/dashboard/waste-masters', label: '廃棄物コードマスター' },
        ],
      },
      { key: '/dashboard/import', label: '取り込み履歴' },
    ],
  },
]
```

---

## 🎨 メニュー表示イメージ

### Before（現状）
```
🏠 ダッシュボード
📝 廃棄依頼一覧
📝 予定管理
✅ 回収情報登録
📊 回収レポート
💾 JWNET登録データ        ← 重複
💾 JWNET管理              ← 重複
📊 回収実績データ
📊 レポート               ← 重複
💰 請求管理
⚠️  仮登録管理
📜 取り込み履歴
🏪 店舗管理
💾 店舗品目業者マトリクス
👥 一斉ヒアリング管理
🏪 外部店舗管理
⚙️  管理メニュー
  ├─ 組織管理
  ├─ ユーザー管理
  ├─ 収集業者管理
  └─ その他
```

### After（提案）
```
🏠 ダッシュボード
📝 廃棄物管理             ← グルーピング
  ├─ 廃棄依頼一覧
  ├─ 予定管理
  ├─ 回収情報登録
  └─ 回収実績データ
💰 請求管理
📊 レポート・分析         ← グルーピング・統合
  ├─ 回収レポート
  └─ 統計レポート
🔗 JWNET連携            ← グルーピング・統合
  ├─ JWNET管理
  └─ 仮登録管理
🏪 店舗・業者管理        ← グルーピング
  ├─ 店舗管理
  ├─ 店舗品目業者マトリクス
  ├─ 外部店舗管理
  ├─ 収集業者管理
  └─ 一斉ヒアリング管理
⚙️  システム管理          ← 再編
  ├─ 組織管理
  ├─ ユーザー管理
  ├─ マスター管理
  └─ 取り込み履歴
```

---

## 📈 改善効果

### 1. メニュー項目数の削減
- **Before**: トップレベル 20項目
- **After**: トップレベル 7項目（-65%）

### 2. 業務フローの可視化
- 廃棄物管理の流れが明確
- 関連機能が近くに配置

### 3. 操作性の向上
- 階層化で探しやすく
- 重複機能の統合で迷わない

---

## ✅ 実装推奨順序

### Phase 1: グルーピング（影響小）
1. 「廃棄物管理」グループ作成
2. 「レポート・分析」グループ作成
3. 「店舗・業者管理」グループ作成

### Phase 2: 統合（影響中）
1. JWNET関連を1つに統合
2. レポート機能を整理

### Phase 3: 最適化（影響小）
1. アイコン統一
2. 並び順調整

---

**最終更新**: 2025-10-19  
**ステータス**: 提案中  
**次のアクション**: ユーザー承認 → Phase 1から実装




